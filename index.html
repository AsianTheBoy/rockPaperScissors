<!DOCTYPE html>

<html>
    <head>
        <title>Rock Paper Scissors</title>
        <style>
            h1 {
                display: flex;
                justify-content: center;
                margin: auto;
                padding-bottom: 50px;
            }

            button {
                display: flex;
                justify-content: center;
                margin: auto;

                padding: 10px 50px 10px 50px;

            }
        </style>
    </head>

    <script>

        function computerPlay(){
            let ran = Math.random();
            if (ran <= 0.333){
                return "Rock";
            }
            else if (0.333 < ran && ran <= 0.666){
                return "Paper";
            }
            else {
                return "Scissors";
            }
        }

        function play(playerSelection, computerSelection){
            if (playerSelection == "Rock" && computerSelection == "Scissors" || playerSelection == "Paper" && computerSelection == "Rock" || playerSelection == "Scissors" && computerSelection == "Paper"){
                return "You Win! " + playerSelection + " beats " + computerSelection;
            }
            else if (playerSelection == "Rock" && computerSelection == "Paper" || playerSelection == "Paper" && computerSelection == "Scissors" || playerSelection == "Scissors" && computerSelection == "Rock"){
                return "You Lose! " + computerSelection + " beats " + playerSelection;
            }
            else{
                return "It's a tie!";
            }
        }

        function play(playerSelection, computerSelection){
            if (playerSelection == "Rock" && computerSelection == "Scissors" || playerSelection == "Paper" && computerSelection == "Rock" || playerSelection == "Scissors" && computerSelection == "Paper"){
                return 1;
            }
            else if (playerSelection == "Rock" && computerSelection == "Paper" || playerSelection == "Paper" && computerSelection == "Scissors" || playerSelection == "Scissors" && computerSelection == "Rock"){
                return 0;
            }
            else{
                return -1;
            }
        }

        function game() {

            let playerWins = 0;
            let computerWins = 0;

            for (let i = 0; i < 5; i++){
                let input = prompt("Enter 'Rock', 'Paper' or 'Scissors'");

                let playerSelection = input.charAt(0).toUpperCase() + input.slice(1);;
                let computerSelection = computerPlay();

                result = play(playerSelection, computerSelection);

                if(result == 1){
                    playerWins++;
                    console.log("You win this round! \n You chose " + playerSelection + " and the computer chose " + computerSelection);
                }
                else if (result == 0){
                    computerWins++;
                    console.log("You lose this round. \n You chose " + playerSelection + " and the computer chose " + computerSelection);
                }
                else {
                    i--;
                    console.log("It was a tie!");
                }
            }

            if (playerWins > computerWins){
                console.log("You win with " + playerWins + " wins. The computer had " + computerWins + " wins.");
            }
            else {
                console.log("You lose with " + playerWins + " wins. The computer had " + computerWins + " wins.");
            }

        }
        
    </script>

    <h1>Play Rock Paper Scissors</h1>
    <button type = "button" onclick = "game()">Play</button>

</html>